

## Проведенные тесты

### контейнер imdb


Для тестирования подключения и отработки запросов был использован менеджер по работе с БД DBeaver Version 7.1.2.202007051953


##### 1. Проверка подключения к бд:

Параметры подключения:


- host 138.197.176.123   
- database - imdb,
- username - docker,
- password - docker


Результат:

> Connected (1176ms)
> PostgreSQL 13.1 (Debian 13.1-1.pgdg100+1)
> PostgreSQL 13.1 (Debian 13.1-1.pgdg100+1) on x86_64-pc-linux-gnu, compiled by gcc
> (Debian  8.3.0-6) 8.3.0, 64-bit

##### 2. выполнение запроса к таблице basics:

```
select b.tconst
from imdb_s.basics b
order by tconst
limit 1;
```

Результат:

> tconst   |
> ---------|
> tt0000001|

##### 3. выполнение запроса к таблице ratings:

```
select r2.tconst
from imdb_s.ratings r2
order by tconst
limit 1;
```

Результат:

> tconst   |
> ---------|
> tt0000001|




### контейнер imdb_app

Для проведения тестирования использовано расширение браузера Chrome Talend Cloud API Tester

##### 1. GET Запрос идентификаторов по полю tconst:

Запрос :

`http://138.197.176.123:5000/tconst/tt0060313`

Результат:

```yaml
{
"movies":[
                        "tt0060313"
]
}
```

Status code

> 200 (OK)


##### 2. GET Запрос идентификаторов по полю tconst (несуществующее значение):

Запрос :

`http://138.197.176.123:5000/tconst/tt00060313`

Результат:

```
```

Status code

> 404 NOT FOUND


##### 3. GET Запрос идентификаторов по полю titletype:

Запрос :

`http://138.197.176.123:5000/titletype/short`

Результат:

```yaml
{
"movies":[
                        "tt0000001",
                        "tt0000002",
                        "tt0000003",
                        "tt0000004",
                        "tt0000005",
                        "tt0000006",
                        "tt0000007",
                        "tt0000008",
                        "tt0000010",
                        "tt0000011"
]
}
```
Status code

> 200 (OK)


##### 4. GET Запрос идентификаторов по полю titletype (несуществующее значение):

Pапрос :

`http://138.197.176.123:5000/titletype/sshort`

Результат:

```
```

Status code

> 404 NOT FOUND


##### 5. GET Запрос идентификаторов по полю titletype с изменением количества выдачи:

Запрос :

`http://138.197.176.123:5000/titletype/short&lim=5`

Результат:

```yaml
{
"movies":[
                        "tt0000001",
                        "tt0000002",
                        "tt0000003",
                        "tt0000004",
                        "tt0000005"
]
}
```
Status code

> 200 (OK)



##### 6. GET Запрос идентификаторов по полю primarytitle:

Запрос :

`http://138.197.176.123:5000/primarytitle/Carmencita`

Результат:

```yaml
{
"movies":[
                        "tt0000001",
                        "tt0453643"
]
}
```
Status code

> 200 (OK)


##### 7. GET Запрос идентификаторов по полю primarytitle (несуществующее значение):

Запрос :

`http://138.197.176.123:5000/primarytitle/1Carmencita`

Результат:

```
```

Status code

> 404 NOT FOUND


##### 8. GET Запрос идентификаторов по полю primarytitle с изменением количества выдачи:

Запрос :

`http://138.197.176.123:5000/primarytitle/Carmencita&lim=1`

Результат:

```yaml
{
"movies":[
                        "tt0000001",
]
}
```

Status code

> 200 (OK)



##### 9. GET Запрос идентификаторов по полю originaltitle:

Запрос :

`http://138.197.176.123:5000/originaltitle/Carmencita`

Результат:

```yaml
{
"movies":[
                        "tt0000001",
                        "tt0453643"
]
}
```

Status code

> 200 (OK)


##### 10. GET Запрос идентификаторов по полю originaltitle (несуществующее значение):

Pапрос :

`http://138.197.176.123:5000/originaltitle/1Carmencita`

Результат:

```
```

Status code

> 404 NOT FOUND


##### 11. GET Запрос идентификаторов по полю originaltitle с изменением количества выдачи:

Запрос :

`http://138.197.176.123:5000/originaltitle/Carmencita&lim=1`

Результат:

```yaml
{
"movies":[
                        "tt0000001",
]
}
```

Status code

> 200 (OK)


##### 12. GET Запрос идентификаторов по полю isadult:

Запрос :

`http://138.197.176.123:5000/isadult/True`

Результат:

```yaml
{
"movies":[
                        "tt0060313",
                        "tt0061926",
                        "tt0062361",
                        "tt0062417",
                        "tt0062727",
                        "tt0063118",
                        "tt0063176",
                        "tt0063631",
                        "tt0064057",
                        "tt0064929"          
]
}
```

Status code

> 200 (OK)


##### 13. GET Запрос идентификаторов по полю isadult (несуществующее значение):

Запрос :

`http://138.197.176.123:5000/isadult/T1rue`

Результат:

```
```

Status code

> 404 NOT FOUND


##### 14. GET Запрос идентификаторов по полю isadult с изменением количества выдачи:

Запрос :

`http://138.197.176.123:5000/isadult/True&lim=5`

Результат:

```yaml
{
"movies":[
                        "tt0060313",
                        "tt0061926",
                        "tt0062361",
                        "tt0062417",
                        "tt0062727"
]
}
```

Status code

> 200 (OK)


##### 15. GET Запрос идентификаторов по полю startyear:

Запрос :

`http://138.197.176.123:5000/startyear/1990`

Результат:

```yaml
{
"movies":[
                        "tt0059900",
                        "tt0065188",
                        "tt0066498",
                        "tt0081436",
                        "tt0081721",
                        "tt0081801",
                        "tt0084638",
                        "tt0088283",
                        "tt0088655",
                        "tt0088656"
]
}
```

Status code

> 200 (OK)


##### 16. GET Запрос идентификаторов по полю startyear (несуществующее значение):

Запрос :

`http://138.197.176.123:5000/startyear/990`

Результат:

```
```

Status code

> 404 NOT FOUND


##### 17. GET Запрос идентификаторов по полю startyear с изменением количества выдачи:

Запрос :

`http://138.197.176.123:5000/startyear/1990&lim=5`

Результат:

```yaml
{
"movies":[
                        "tt0059900",
                        "tt0065188",
                        "tt0066498",
                        "tt0081436",
                        "tt0081721"
]
}
```

Status code

> 200 (OK)



##### 18. GET Запрос идентификаторов по полю endtyear:

Запрос :

`http://138.197.176.123:5000/endtyear/1990`

Результат:

```yaml
{
"movies":[
                        "tt0069608",
                        "tt0075472",
                        "tt0078714",
                        "tt0081858",
                        "tt0083455",
                        "tt0084972",
                        "tt0084991",
                        "tt0085007",
                        "tt0085050",
                        "tt0085065"
]
}
```

Status code

> 200 (OK)


##### 19. GET Запрос идентификаторов по полю endtyear (несуществующее значение):

Запрос :

`http://138.197.176.123:5000/endtyear/990`

Результат:

```
```

Status code

> 404 NOT FOUND


##### 20. GET Запрос идентификаторов по полю endtyear с изменением количества выдачи:

Запрос :

`http://138.197.176.123:5000/startyear/1990&lim=5`

Результат:

```yaml
{
"movies":[
                        "tt0069608",
                        "tt0075472",
                        "tt0078714",
                        "tt0081858",
                        "tt0083455",
]
}
```

Status code

> 200 (OK)


##### 21. GET Запрос идентификаторов по полю runtimeminutes:

Запрос :

`http://138.197.176.123:5000/runtimeminutes/1`

Результат:

```yaml
{
"movies":[
                        "tt0000001",
                        "tt0000005",
                        "tt0000006",
                        "tt0000007",
                        "tt0000008",
                        "tt0000010",
                        "tt0000011",
                        "tt0000012",
                        "tt0000013",
                        "tt0000014"
]
}
```

Status code

> 200 (OK)


##### 22. GET Запрос идентификаторов по полю runtimeminutes (несуществующее значение):

Запрос :

`http://138.197.176.123:5000/runtimeminutes/10000`

Результат:

```
```

Status code

> 404 NOT FOUND


##### 23. GET Запрос идентификаторов по полю endtyear с изменением количества выдачи:

Запрос :

`http://138.197.176.123:5000/runtimeminutes/1&lim=5`

Результат:

```yaml
{
"movies":[
                        "tt0000001",
                        "tt0000005",
                        "tt0000006",
                        "tt0000007",
                        "tt0000008"
                       ]
}
```

Status code

> 200 (OK)


##### 24. GET Запрос идентификаторов по полю genres:

Запрос :

`http://138.197.176.123:5000/genres/Documentary,Short`

Результат:

```yaml
{
"movies":[
                        "tt0000001",
                        "tt0000008",
                        "tt0000010",
                        "tt0000011",
                        "tt0000012",
                        "tt0000013",
                        "tt0000016",
                        "tt0000017",
                        "tt0000022",
                        "tt0000023"
]
}
```

Status code

> 200 (OK)


##### 25. GET Запрос идентификаторов по полю genres (несуществующее значение):

Запрос :

`http://138.197.176.123:5000/genres/1Documentary,Short`

Результат:

```
```

Status code

> 404 NOT FOUND


##### 26. GET Запрос идентификаторов по полю genres с изменением количества выдачи:

Запрос :

`http://138.197.176.123:5000/genres/Documentary,Short&lim=5`

Результат:

```yaml
{
"movies":[
                        "tt0000001",
                        "tt0000008",
                        "tt0000010",
                        "tt0000011",
                        "tt0000012"
                       ]
}
```

Status code

> 200 (OK)


##### 27. POST Запрос идентификаторов рекомендованных фильмов:

Запрос :

`http://138.197.176.123:5000/suggest/10`
```yaml
{"likes": {"tt0000001": 0.6,
           "tt0000002": 0.8,
           "tt00000010": 0
          }
}
```


Результат:

```yaml
{
"ratings":[
                        "tt0367882",
                        "tt0120755",
                        "tt0489099",
                        "tt0413267",
                        "tt1735898",
                        "tt0338526",
                        "tt1464540",
                        "tt1234721",
                        "tt2126355",
                        "tt0246460"
]
}
```

Status code

> 200 (OK)

##### 28. POST Запрос идентификаторов рекомендованных фильмов (несуществующие значения):

Запрос :

`http://138.197.176.123:5000/suggest/10`
```yaml
{"likes": {"tt0000000": 0.6,
           "tt0000000": 0.8,
           "tt0000000": 0
          }
}
```


Результат:

```
```

Status code

> 404 NOT FOUND
















